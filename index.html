<!DOCTYPE html>

<style>
    body {
        font-family: Helvetica;
    }

    h2 {
        text-align: center;
    }

    .quizTable {
        margin-left: auto;
        margin-right: auto;
    }

    tr>*+* {
        padding-left: 15px;
        padding-right: 15px;
        padding-top: 5px;
        padding-bottom: 5px;
    }

    button {
        margin: auto;
        display: block;
    }

    .resultTable {
        margin-left: auto;
        margin-right: auto;
        border-collapse: separate;
        border-spacing: 50px 20px;
    }

    a {
        text-decoration: none;
    }
</style>

<html>

<body>
    <div class="container card card-color">
        <form action="" id="sampleForm">
            <h2>Заполните анкету и получите рекомендацию гардероба для вас</h2>
            <table class="quizTable">
                <tr>
                    <td>Какую одежду вы ищете?</td>
                    <td>
                        <select id="designationOption" name="designation">
                            <option value="casual">Повседневную</option>
                            <option value="sport">Спортивную</option>
                            <option value="office">Для офиса</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>Сколько вам лет?:</td>
                    <td>
                        <input type="number" name="age" value="21" min="0" max="200">
                    </td>
                </tr>
                <tr>
                    <td>Ваш цвет волос:</td>
                    <td>
                        <select name="hairColor">
                            <option value="none">Волосы отсутствуют</option>
                            <option value="black">Брюнет</option>
                            <option value="brown">Шатен</option>
                            <option value="blonde">Блондин/Русый</option>
                            <option value="red">Рыжий</option>
                            <option value="gray">Серый</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>Бюджет для гардероба в рублях:</td>
                    <td>
                        <input type="number" name="budget" value="2500" min="1500" max="10000">
                    </td>
                </tr>
                <tr>
                    <td>Предпочитаемая посадка одежды:</td>
                    <td>
                        <select name="preferredFit">
                            <option value="loose">Свободная</option>
                            <option value="regular">По размеру</option>
                            <option value="slim">Приталенная</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>Любимая цветовая гамма:</td>
                    <td>
                        <select name="favoriteColorScheme">
                            <option value="monochrome">Монохромная</option>
                            <option value="pastel">Пастельная</option>
                            <option value="earth">Земельные тона</option>
                        </select>
                    </td>
                </tr>
            </table>
        </form>
    </div>
    <br>
    <button class="submitButton">Получить подборку</button>
    <br>
    <table id="outerwearTable" class="resultTable">
        <tr></tr>
    </table>
    <table id="shirtsTable" class="resultTable">
        <tr></tr>
    </table>
    <table id="pantsTable" class="resultTable">
        <tr></tr>
    </table>
</body>

</html>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
    function makeColumn(pageUrl, imageUrl, description, brand, price) {
        return "".concat("<td> <img src=", imageUrl, " height=300>", " <br> <a href=", pageUrl, " style=\"color: #000000\">", brand, "<br>", price, " BYN </a>", " </td>");
    }

    function refreshTable(table, data) {
        $("#" + table + " td").remove();
        $.each(data, function (i, item) {
            if (i % 3 == 0) {
                $("#" + table + " tbody").append("<tr>");
            }
            $("#" + table + " tbody").append(makeColumn(item.pageUrl, item.imageUrl, item.description, item.brand, item.price))
            if (i % 3 == 0) {
                $("#" + table + " tbody").append("</tr>");
            }
        })
    }

    $(document).ready(function () {
        $("button").click(function () {
            $.get("https://api.basis.clothing/submit-quiz",
                $('form').serialize(),
                function (data, status) {
                    refreshTable("outerwearTable", data.outerwear)
                    refreshTable("shirtsTable", data.shirts)
                    refreshTable("pantsTable", data.pants)
                });
        });
    });
</script>