<!DOCTYPE html>

<style>
    body {
        font-family: Helvetica;
    }

    h2 {
        text-align: center;
    }

    .quizTable {
        margin-left: auto;
        margin-right: auto;
    }

    tr>*+* {
        padding-left: 15px;
        padding-right: 15px;
        padding-top: 5px;
        padding-bottom: 5px;
    }

    button {
        margin: auto;
        display: block;
    }

    .resultTable {
        margin-left: auto;
        margin-right: auto;
        border-collapse: separate;
        border-spacing: 50px 20px;
    }
</style>

<html>

<body>
    <div class="container card card-color">
        <form action="" id="sampleForm">
            <h2>Заполните анкету и получите рекомендацию гардероба для вас</h2>
            <table class="quizTable">
                <tr>
                    <td>Какую одежду вы ищете?</td>
                    <td>
                        <select id="purposeOption" name="purpose">
                            <option value="casual">Повседневную</option>
                            <option value="beach">Для пляжа</option>
                            <option value="sport">Спортивную</option>
                            <option value="office">Для офиса</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>Ваш год рождения:</td>
                    <td>
                        <input type="number" name="birthdayYear" value="2000" min="1900" max="2030">
                    </td>
                </tr>
                <tr>
                    <td>Ваш цвет волос:</td>
                    <td>
                        <select name="hairColor">
                            <option value="none">Волосы отсутствуют</option>
                            <option value="black">Брюнет</option>
                            <option value="brown">Шатен</option>
                            <option value="blonde">Блондин/Русый</option>
                            <option value="red">Рыжий</option>
                            <option value="gray">Серый</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>Рост в сантиметрах:</td>
                    <td>
                        <input type="number" name="heightCm" value="175" min="0" max="1000">
                    </td>
                </tr>
                <tr>
                    <td>Вес в килограммах:</td>
                    <td>
                        <input type="number" name="weightKg" value="75" min="0" max="1000">
                    </td>
                </tr>
                <tr>
                    <td>Предпочитаемая посадка одежды:</td>
                    <td>
                        <select name="fit">
                            <option value="loose">Свободная</option>
                            <option value="regular">По размеру</option>
                            <option value="slim">Приталенная</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>Любимая цветовая гамма:</td>
                    <td>
                        <select name="colorScheme">
                            <option value="monochrome">Монохромная</option>
                            <option value="pastel">Пастельная</option>
                        </select>
                    </td>
                </tr>
            </table>
        </form>
    </div>
    <br>
    <button class="submitButton">Получить подборку</button>
    <br>
    <table id="outerwearTable" class="resultTable">
        <tr></tr>
    </table>
    <table id="shirtsTable" class="resultTable">
        <tr></tr>
    </table>
    <table id="pantsTable" class="resultTable">
        <tr></tr>
    </table>
</body>

</html>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
    function makeRow(s1, s2) {
        return "".concat("<td> <img src=", s2, " height=280>", " <br> <a href=", s1 + ">" + "Cсылка </a>", " </td>");
    }

    function refreshTable(table, data) {
        $("#" + table + " td").remove();
        $("#" + table + " tbody").append("<tr>");
        $.each(data, function (i, item) {
            $("#" + table + " tbody").append(makeRow(item.page, item.image))
        })
        $("#" + table + " tbody").append("</tr>");
    }

    $(document).ready(function () {
        $("button").click(function () {
            $.get("https://basis.clothing/submit-quiz",
                $('form').serialize(),
                function (data, status) {
                    refreshTable("outerwearTable", data.outerwear)
                    refreshTable("shirtsTable", data.shirts)
                    refreshTable("pantsTable", data.pants)
                });
        });
    });
</script>